import type { ComponentPreset } from '@simforge/types';

export const databasePresets: ComponentPreset<'database'>[] = [
  {
    id: 'aws-rds-postgres',
    name: 'AWS RDS Postgres',
    kind: 'database',
    provider: 'aws',
    description: 'Managed PostgreSQL with transactional consistency.',
    config: {
      engine: 'postgres',
      maxConnections: 600,
      queryLatencyMs: { type: 'normal', mean: 7, stddev: 2 },
      writeLatencyMs: { type: 'normal', mean: 14, stddev: 3 },
      failureRate: 0.001,
      connectionPoolSize: 500,
      replicationFactor: 2,
    },
    tags: ['sql', 'managed'],
  },
  {
    id: 'aws-dynamodb',
    name: 'AWS DynamoDB',
    kind: 'database',
    provider: 'aws',
    description: 'Low-latency key-value store with high scale characteristics.',
    config: {
      engine: 'dynamodb',
      maxConnections: 5000,
      queryLatencyMs: { type: 'normal', mean: 4, stddev: 1.5 },
      writeLatencyMs: { type: 'normal', mean: 6, stddev: 2 },
      failureRate: 0.0008,
      connectionPoolSize: 4000,
      replicationFactor: 3,
    },
    tags: ['nosql', 'key-value'],
  },
  {
    id: 'gcp-cloud-sql-postgres',
    name: 'GCP Cloud SQL Postgres',
    kind: 'database',
    provider: 'gcp',
    description: 'Managed PostgreSQL tuned for web workloads.',
    config: {
      engine: 'postgres',
      maxConnections: 500,
      queryLatencyMs: { type: 'normal', mean: 8, stddev: 2.5 },
      writeLatencyMs: { type: 'normal', mean: 16, stddev: 4 },
      failureRate: 0.0012,
      connectionPoolSize: 450,
      replicationFactor: 2,
    },
    tags: ['sql', 'managed'],
  },
  {
    id: 'gcp-firestore',
    name: 'GCP Firestore',
    kind: 'database',
    provider: 'gcp',
    description: 'Document store with strong consistency and global distribution.',
    config: {
      engine: 'dynamodb',
      maxConnections: 4000,
      queryLatencyMs: { type: 'normal', mean: 5, stddev: 1.5 },
      writeLatencyMs: { type: 'normal', mean: 8, stddev: 2 },
      failureRate: 0.001,
      connectionPoolSize: 3000,
      replicationFactor: 3,
    },
    tags: ['nosql', 'document'],
  },
  {
    id: 'azure-cosmos-db',
    name: 'Azure Cosmos DB',
    kind: 'database',
    provider: 'azure',
    description: 'Global NoSQL database for low-latency distributed access.',
    config: {
      engine: 'dynamodb',
      maxConnections: 4500,
      queryLatencyMs: { type: 'normal', mean: 5, stddev: 1.5 },
      writeLatencyMs: { type: 'normal', mean: 7, stddev: 2 },
      failureRate: 0.001,
      connectionPoolSize: 3500,
      replicationFactor: 3,
    },
    tags: ['nosql', 'global'],
  },
];
