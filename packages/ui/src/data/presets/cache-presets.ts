import type { ComponentPreset } from '@simforge/types';

export const cachePresets: ComponentPreset<'cache'>[] = [
  {
    id: 'aws-elasticache-redis',
    name: 'AWS ElastiCache Redis',
    kind: 'cache',
    provider: 'aws',
    description: 'Managed in-memory Redis cache for low-latency reads.',
    config: {
      evictionPolicy: 'lru',
      maxSizeMb: 1024,
      hitRate: 0.9,
      hitLatencyMs: { type: 'constant', value: 1 },
      missLatencyMs: { type: 'constant', value: 3 },
      ttlMs: 60000,
      maxEntries: 500000,
    },
    tags: ['redis', 'in-memory'],
  },
  {
    id: 'aws-dax',
    name: 'AWS DAX',
    kind: 'cache',
    provider: 'aws',
    description: 'DynamoDB accelerator optimized for read-heavy traffic.',
    config: {
      evictionPolicy: 'ttl',
      maxSizeMb: 768,
      hitRate: 0.92,
      hitLatencyMs: { type: 'constant', value: 1 },
      missLatencyMs: { type: 'constant', value: 2 },
      ttlMs: 30000,
      maxEntries: 300000,
    },
    tags: ['dynamodb', 'read-heavy'],
  },
  {
    id: 'gcp-memorystore',
    name: 'GCP Memorystore',
    kind: 'cache',
    provider: 'gcp',
    description: 'Managed Redis for app/session acceleration.',
    config: {
      evictionPolicy: 'lfu',
      maxSizeMb: 1024,
      hitRate: 0.88,
      hitLatencyMs: { type: 'constant', value: 1 },
      missLatencyMs: { type: 'constant', value: 3 },
      ttlMs: 45000,
      maxEntries: 400000,
    },
    tags: ['redis', 'managed'],
  },
  {
    id: 'azure-cache-for-redis',
    name: 'Azure Cache for Redis',
    kind: 'cache',
    provider: 'azure',
    description: 'Enterprise Redis cache with persistence and geo options.',
    config: {
      evictionPolicy: 'lru',
      maxSizeMb: 1536,
      hitRate: 0.9,
      hitLatencyMs: { type: 'constant', value: 1 },
      missLatencyMs: { type: 'constant', value: 4 },
      ttlMs: 60000,
      maxEntries: 600000,
    },
    tags: ['redis', 'enterprise'],
  },
];
